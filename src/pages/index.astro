---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Hero from '../components/Hero.astro';
import WorkSection from '../components/WorkSection.astro';
import WritingSection from '../components/WritingSection.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Aditya Aswani">
  <Navigation />
  <main>
    <Hero />
    <WorkSection />
    <WritingSection />
  </main>
  <Footer />
</Layout>

<script>
  // Scroll animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -100px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);

  document.querySelectorAll('.fade-in').forEach(el => {
    observer.observe(el);
  });

  // Smooth scroll for navigation links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const href = this.getAttribute('href');
      if (!href) return;
      
      const target = document.querySelector(href);
      const nav = document.querySelector('nav');
      
      if (target && nav) {
        // Calculate offset for fixed navbar
        const navHeight = nav.offsetHeight;
        const targetPosition = target.offsetTop - navHeight - 20; // Extra 20px padding
        
        window.scrollTo({
          top: targetPosition,
          behavior: 'smooth'
        });
      }
    });
  });
</script>